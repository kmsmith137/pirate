# Note: params in this file are hardcoded into makefile_helper.py
# (when production_kernels are autogenerated), so any changes made
# here should be reflected there as well.

# A simple frequency upchannelization scheme, will revisit later (28160 freq channels total).
zone_freq_edges: [300, 350, 450, 600, 800, 1500]
zone_nfreq: [ 8192, 8192, 6144, 2048, 3584 ]   # U = 32,16,8,4,1
time_sample_ms: 1.0

# Let's try to use rank=16 in CHORD.
tree_rank: 16
num_downsampling_levels: 4
time_samples_per_chunk: 2048
dtype: float16

# Early triggers starting at ~60 sec dedispersion delay.
early_triggers:
  - {ds_level: 1, delta_rank: 1}
  - {ds_level: 2, delta_rank: 2}
  - {ds_level: 2, delta_rank: 1}
  - {ds_level: 3, delta_rank: 3}
  - {ds_level: 3, delta_rank: 2}
  - {ds_level: 3, delta_rank: 1}

# python -m make_subbands 300 1500 0.1 -r 4
frequency_subband_counts: [5,9,7,3,1]

# FIXME peak_finding_params are not quite right (same params at each level)
peak_finding_params:
  - {max_width: 16, dm_downsampling: 0, time_downsampling: 0, wt_dm_downsampling: 64, wt_time_downsampling: 64}
  - {max_width: 16, dm_downsampling: 0, time_downsampling: 0, wt_dm_downsampling: 64, wt_time_downsampling: 64}
  - {max_width: 16, dm_downsampling: 0, time_downsampling: 0, wt_dm_downsampling: 64, wt_time_downsampling: 64}
  - {max_width: 16, dm_downsampling: 0, time_downsampling: 0, wt_dm_downsampling: 64, wt_time_downsampling: 64}

max_gpu_clag: 5
beams_per_gpu: 60
beams_per_batch: 2
num_active_batches: 2